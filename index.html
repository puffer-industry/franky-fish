<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fruit</title>
    <style>
        * {margin: 0;padding: 0;}
        body, #app {position: fixed;top:0;left:0;height:100%;width:100%;}
    </style>
</head>
<body>
    <div id="app">
        <!-- load canvas here -->
    </div>
    <script src="./src/app.js"></script>
    <script src="./src/layer.js"></script>
    <script src="./src/loader.js"></script>
    <script src="./src/clients/fish.client.js"></script>
    <script src="./src/functions.js"></script>
    <script src="./src/clients/randFish.client.js"></script>
    <script src="./src/clients/player.client.js"></script>
    <script src="./src/clients/controller.client.js"></script>

    <script>
        // alert('请用使用手机，或打开浏览器的手机模式！');
        window.app = new App(document.getElementById('app'));
        var imageLoader = new ImageLoader({
            player: './images/player.png',
            background: './images/background1.jpg',
            fish_0_0: './images/fishs/0.1.png',
            fish_0_1: './images/fishs/0.2.png',
            fish_0_2: './images/fishs/0.3.png',
            fish_0_3: './images/fishs/0.4.png',
            fish_1_0: './images/fishs/1.1.png',
            fish_1_1: './images/fishs/1.2.png',
            fish_1_2: './images/fishs/1.3.png',
            fish_2_0: './images/fishs/2.1.png',
            fish_2_1: './images/fishs/2.4.png',
        });

        imageLoader.load().then(images => {
            app.set('images', pixelReverseArray(images));
            app.set('levels', {
                level1: [45, 30],
                level2: [95, 60]
            });

            backgroundLayer();
            var playerClient = playerLayer();


            app.listen(new RandFishClient());
        });

        app.start();
    </script>
</body>
</html>
